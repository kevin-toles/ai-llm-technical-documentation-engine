# ============================================================================
# LLM API Configuration
# ============================================================================

# API Keys (REQUIRED)
ANTHROPIC_API_KEY=your-api-key-here
# OPENAI_API_KEY=sk-...  # Optional, for future multi-provider support

# LLM Provider Settings
LLM_PROVIDER=anthropic
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
LLM_TEMPERATURE=0.2
LLM_MAX_TOKENS=8192
ENABLE_API_LOGGING=true

# ============================================================================
# Book Taxonomy Configuration
# ============================================================================

# Minimum relevance score for book selection (0.0-1.0)
TAXONOMY_MIN_RELEVANCE=0.3

# Maximum books to send to LLM Phase 1 (1-14)
TAXONOMY_MAX_BOOKS=10

# Cascading depth for book relationships (1-3)
TAXONOMY_CASCADE_DEPTH=1

# Enable pre-filtering before Phase 1 (true/false)
TAXONOMY_ENABLE_PREFILTER=true

# ============================================================================
# Prompt Constraints (Acceptance Criteria AC-2)
# ============================================================================

# Maximum content_requests array size
PROMPT_MAX_CONTENT_REQUESTS=10

# Maximum sections per content request
PROMPT_MAX_SECTIONS=5

# Maximum characters in rationale field
PROMPT_MAX_RATIONALE_CHARS=350

# Maximum pages per section
PROMPT_MAX_PAGES=10

# ============================================================================
# Retry Policy (Acceptance Criteria AC-3)
# ============================================================================

# Maximum retry attempts on failure
RETRY_MAX_ATTEMPTS=2

# Token reduction factor per retry (0.5-1.0, e.g., 0.8 = 20% reduction)
RETRY_BACKOFF_FACTOR=0.8

# Book/section count reduction per retry (0.3-0.8, e.g., 0.5 = 50% reduction)
RETRY_CONSTRAINT_FACTOR=0.5

# ============================================================================
# Caching Configuration (Acceptance Criteria AC-4)
# ============================================================================

# Enable caching (true/false)
CACHE_ENABLED=true

# Cache directory path
CACHE_DIR=cache

# Cache TTL in days
CACHE_PHASE1_TTL_DAYS=30
CACHE_PHASE2_TTL_DAYS=30

# ============================================================================
# Path Configuration (Optional - auto-detected if not set)
# ============================================================================

# REPO_ROOT=/path/to/repo
# DATA_DIR=/path/to/data
# GUIDELINES_DIR=/path/to/guidelines
# OUTPUT_DIR=/path/to/outputs
# LOGS_DIR=/path/to/logs

# ============================================================================
# Debug Settings
# ============================================================================

# Show configuration on startup (true/false)
SHOW_CONFIG=false
